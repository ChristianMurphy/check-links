# check-links

> Robustly checks an array of URLs for liveness.

[![NPM](https://img.shields.io/npm/v/check-links.svg)](https://www.npmjs.com/package/check-links) [![Build Status](https://travis-ci.com/transitive-bullshit/check-links.svg?branch=master)](https://travis-ci.com/transitive-bullshit/check-links) [![JavaScript Style Guide](https://img.shields.io/badge/code_style-standard-brightgreen.svg)](https://standardjs.com)

## Install

This module requires `node >= 4`.

```bash
npm install --save check-links
```

## Usage

```js
const checkLinks = require('check-links')

const results = await checkLinks([
  'https://google.com',
  'https://404.com',
])

results['https://foo.com'] // { status: 'alive', statusCode: 200 }
results['https://404.com'] // { status: 'dead', statusCode: 404 }
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### checkLinks

Robustly checks an array of URLs for liveness.

Returns a `Map<String, Object>` that maps each input URL to an Object with at least
one property, `status` which may be any of `alive | dead | error | invalid`. Status
will be `alive` if the URL was reachable, `dead` if it definitely was not reachable,
`error` in the event of repeated transport errors, and `invalid` if the URL was parsed
as invalid.

Additionally, the result [LinkCheckResult](https://github.com/tcort/link-check/blob/master/lib/LinkCheckResult.js)
may contain a `statusCode` if the HTTP request to that URL resolved properly.

Type: `function (urls, opts): Promise`

-   `urls` **[array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** Array of urls to test
-   `opts` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Configuration options
    -   `opts.baseUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Base URL for resolving relative urls
    -   `opts.concurrency` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Maximum number of urls to resolve concurrently (optional, default `8`)
    -   `opts.retries` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Number of times to retry resolving a dead URL (optional, default `2`)
    -   `opts.protocols` **[Set](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set)** Set of string protocols to accept (defaults to `http:` and `https:`) (optional, default `Set`)

## Related

-   [link-check](https://github.com/tcort/link-check) - Used under the hood, checks whether a given hyperlink is alive or dead.
-   [remark-lint-no-dead-urls](https://github.com/davidtheclark/remark-lint-no-dead-urls) - Remark lint plugin that inspired this module.

## License

MIT Â© [Travis Fischer](https://github.com/transitive-bullshit)
